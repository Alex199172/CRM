{"remainingRequest":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/vevanta/Рабочий стол/building_widtgets/src/pages/auth/auth.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/vevanta/Рабочий стол/building_widtgets/src/pages/auth/auth.vue","mtime":1639736789969},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBVSWtpdCBmcm9tICd1aWtpdCcKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwoKICBleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIGxvZ2luOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgc3RhdHVzUGFzc3dvcmQ6IHRydWUsCiAgICAgICAgc3RhdHVzTGVhZHM6IDAKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ3VrLWltZycsICcnKTsKICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgiZGF0YS1zcmMiLCAnaHR0cHM6Ly9pbWFnZXMud2FsbHBhcGVyc2NyYWZ0LnJ1L2ltYWdlL3NpbmdsZS9nb3J5X296ZXJvX3ZlcnNoaW55XzEyOTI2M18xOTIweDEwODAuanBnJyk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBjaGVja0Zvcm0oKSB7CiAgICAgIGxldCBwaG9uZSA9IHRoaXMubG9naW4ucmVwbGFjZSgvW14rXGRdL2csICcnKQoKCiAgICAgIGlmICghcGhvbmUpIHsKICAgICAgICBVSWtpdC5ub3RpZmljYXRpb24oewogICAgICAgICAgbWVzc2FnZTogJ9Cd0LXQutC+0YDRgNC10LrRgtC90YvQuSDQvdC+0LzQtdGAJywKICAgICAgICAgIHN0YXR1czogJ2RhbmdlcicsCiAgICAgICAgICBwb3M6ICd0b3AtcmlnaHQnLAogICAgICAgIH0pOwogICAgICAgIHJldHVybgogICAgICB9CgogICAgICBpZiAoIXRoaXMucGFzc3dvcmQgfHwgdGhpcy5wYXNzd29yZC5sZW5ndGggPCA1KSB7CiAgICAgICAgVUlraXQubm90aWZpY2F0aW9uKHsKICAgICAgICAgIG1lc3NhZ2U6ICfQktCy0LXQtNC40YLQtSDQv9Cw0YDQvtC70YwnLAogICAgICAgICAgc3RhdHVzOiAnZGFuZ2VyJywKICAgICAgICAgIHBvczogJ3RvcC1yaWdodCcsCiAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgdGhpcy5zdGF0dXNMZWFkcyA9IDEKCiAgICAgICAgdGhpcy5fYXV0aChwaG9uZSwgdGhpcy5wYXNzd29yZCkKICAgIH0sCgogICAgX2F1dGgobG9naW4sIHBhc3N3b3JkKSB7CiAgICAgIHRoaXMuJGFwaS5wb3N0KCdsb2dpbnMnLCB7CiAgICAgICAgbG9naW4sCiAgICAgICAgcGFzc3dvcmQKICAgICAgfSkudGhlbihyID0+IHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aF90b2tlbicsIHIuZGF0YS50b2tlbik7CiAgICAgICAgdGhpcy4kYXBpLmRlZmF1bHRzLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHtyLmRhdGEudG9rZW59YAogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnQ1JNJ30pCiAgICAgIH0pLmNhdGNoKHIgPT4gewogICAgICAgIHRoaXMuc3RhdHVzTGVhZHMgPSAwIC8vIGRlZmF1bHQKICAgICAgICBVSWtpdC5ub3RpZmljYXRpb24oewogICAgICAgICAgbWVzc2FnZTogci5kYXRhLmVycm9yc1swXSwKICAgICAgICAgIHN0YXR1czogJ2RhbmdlcicsCiAgICAgICAgICBwb3M6ICd0b3AtcmlnaHQnLAogICAgICAgIH0pOwogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["/home/vevanta/Рабочий стол/building_widtgets/src/pages/auth/auth.vue"],"names":[],"mappings":"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","file":"/home/vevanta/Рабочий стол/building_widtgets/src/pages/auth/auth.vue","sourceRoot":"","sourcesContent":["<template >\n  <div>\n    <div class=\"uk-position-center preload__cont z-index-10\" v-show=\"statusLeads === 1\">\n      <div class=\"uk-position-center\">\n        <img src=\"/images/icons/preload.svg\" alt=\"\">\n      </div>\n    </div>\n    <div class=\"opacity uk-container uk-width-1-4 uk-padding uk-panel uk-border-rounded uk-box-shadow-medium uk-position-center\">\n        <div class=\"uk-margin-small-bottom uk-margin-small-top uk-text-normal uk-text-large cl-wh\">\n          Авторизация\n        </div>\n      <div class=\"uk-text-center uk-margin-large-top\" uk-grid>\n\n        <form\n          class=\"uk-width-1-1\"\n          id=\"app\"\n          @submit.prevent=\"checkForm\"\n          >\n          <div class=\"uk-position-relative\">\n            <input\n            class=\"uk-input\"\n            type=\"tel\"\n            name=\"tel\"\n            placeholder=\"Логин\"\n            id=\"login\"\n            v-model=\"login\"\n            >\n            <span\n            class=\"material-icons uk-position-absolute uk-position-center-right uk-margin-small-right cl-wg\"\n            >phone_iphone\n            </span>\n            </div>\n          <div class=\"uk-position-relative uk-margin-small-top\">\n              <input\n              class=\"uk-input\"\n              :type=\"statusPassword ? 'password' : 'text'\"\n              placeholder=\"Пароль\"\n              id=\"login\"\n              v-model=\"password\"\n              >\n              <span\n              @click=\"statusPassword = !statusPassword\"\n              class=\"material-icons cr-pointer uk-position-absolute uk-position-center-right uk-margin-small-right cl-wg\"\n              >\n              <template v-if=\"statusPassword\">\n                visibility\n              </template>\n              <template v-else\n              >\n                visibility_off\n              </template>\n              </span>\n          </div>\n          <button class=\"btn uk-margin-medium-top uk-width-1 cl-wh show-animation show-animation:hover fs16\" type=\"submit\">\n            Войти\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport UIkit from 'uikit'\nimport axios from 'axios'\n\n  export default {\n    data() {\n      return {\n        login: '',\n        password: '',\n        statusPassword: true,\n        statusLeads: 0\n      }\n    },\n    created() {\n     document.body.setAttribute('uk-img', '');\n     document.body.setAttribute(\"data-src\", 'https://images.wallpaperscraft.ru/image/single/gory_ozero_vershiny_129263_1920x1080.jpg');\n    },\n    methods: {\n      checkForm() {\n      let phone = this.login.replace(/[^+\\d]/g, '')\n\n\n      if (!phone) {\n        UIkit.notification({\n          message: 'Некорректный номер',\n          status: 'danger',\n          pos: 'top-right',\n        });\n        return\n      }\n\n      if (!this.password || this.password.length < 5) {\n        UIkit.notification({\n          message: 'Введите пароль',\n          status: 'danger',\n          pos: 'top-right',\n        });\n          return\n        }\n        this.statusLeads = 1\n\n        this._auth(phone, this.password)\n    },\n\n    _auth(login, password) {\n      this.$api.post('logins', {\n        login,\n        password\n      }).then(r => {\n        localStorage.setItem('auth_token', r.data.token);\n        this.$api.defaults.headers.Authorization = `Bearer ${r.data.token}`\n        this.$router.push({name: 'CRM'})\n      }).catch(r => {\n        this.statusLeads = 0 // default\n        UIkit.notification({\n          message: r.data.errors[0],\n          status: 'danger',\n          pos: 'top-right',\n        });\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.btn {\n  background-color: #3cada3;\n  border: none;\n  border-radius: 2px;\n}\n.opacity {\nbackground: rgb(0 0 0 / 44%)\n}\n.cl-wg {\n  color: #57dace;\n}\n.preload__cont {\n  width: 100%;\n  height: 100%;\n  background: rgb(255 255 255 / 74%);\n}\n\n.preload__cont img {\n  width: 60px;\n  margin: auto;\n}\n</style>\n"]}]}