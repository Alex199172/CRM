{"remainingRequest":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/vevanta/Рабочий стол/building_widtgets/src/pages/client/crm/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/vevanta/Рабочий стол/building_widtgets/src/pages/client/crm/index.vue","mtime":1642157650079},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgogIGV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgc3RhdHVzU29ydDogMCwKICAgICAgICBzdGF0dXNMZWFkczogMCwKICAgICAgICB0YWJsZXMgOiBbXSwKICAgICAgICBzb3J0RG9tYWluQWN0aXZlIDogJycsCiAgICAgICAgc29ydENvbXBhbnlBY3RpdmUgOiAnJywKICAgICAgICBzb3J0T3JpZ2luQWN0aXZlIDogJycsCiAgICAgICAgZG9tYWlucyA6IFtdLAogICAgICAgIGNvbXBhbmllcyA6IFtdLAogICAgICAgIG9yaWdpbnMgOiBbXSwKICAgICAgICBkYXRlX3BlcmlvZCA6IFtdLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIGxhc3RfOiAwLAogICAgICAgIGZpcnN0X3BhZ2U6IDEsCiAgICAgICAgcGFnZXM6IFtdLAogICAgICAgIGZpbHRlcjogewogICAgICAgICAgZG9tYWluOiBbXSwKICAgICAgICAgIGNvbXBhbnk6IFtdLAogICAgICAgICAgb3JpZ2luOiBbXSwKICAgICAgICAgIGRhdGVfcGVyaW9kOiBbXSwKICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICBzb3J0OiAnZGVzYycKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgY3JlYXRlZCgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmRvbWFpbikgewogICAgICAgIHRoaXMuZmlsdGVyLmRvbWFpbiA9IFt0aGlzLiRyb3V0ZS5xdWVyeS5kb21haW5dCiAgICAgIH0KICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmNvbXBhbnkpIHsKICAgICAgICAgIHRoaXMuZmlsdGVyLmNvbXBhbnkgPSBbdGhpcy4kcm91dGUucXVlcnkuY29tcGFueV0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnNvcnQpIHsKICAgICAgICAgIHRoaXMuZmlsdGVyLnNvcnQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zb3J0CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5vcmlnaW4pIHsKICAgICAgICB0aGlzLmZpbHRlci5vcmlnaW4gPSBbdGhpcy4kcm91dGUucXVlcnkub3JpZ2luXQogICAgICB9CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5wYWdlKSB7CiAgICAgICAgICB0aGlzLmZpbHRlci5wYWdlID0gdGhpcy4kcm91dGUucXVlcnkucGFnZQogICAgICB9CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5kYXRlX3BlcmlvZCkgewogICAgICAgICAgbGV0IGRhdGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5kYXRlX3BlcmlvZC5zcGxpdCgnLCcpCgogICAgICAgICBpZiAoZGF0ZS5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgdGhpcy5maWx0ZXIuZGF0ZV9wZXJpb2QgPSBkYXRlCiAgICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuc2VhcmNoTGVhZHMoKQogICAgICB0aGlzLl9nZXRfZG9tYWlucygpCiAgICAgIHRoaXMuX2dldF9jb21wYW5pZXMoKQogICAgICB0aGlzLl9nZXRfb3JpZ2lucygpCiAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgIHNlYXJjaExlYWRzKCkgewoKICAgICAgICBsZXQgcXMgPSBPYmplY3Qua2V5cyh0aGlzLmZpbHRlcikuZmlsdGVyKGtleSA9PiB7CiAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZmlsdGVyW2tleV0pICYmIHRoaXMuZmlsdGVyW2tleV0ubGVuZ3RoKSB7CiAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5maWx0ZXJba2V5XSA9PT0gJ3N0cmluZycgJiYgdGhpcy5maWx0ZXJba2V5XSkgewogICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuZmlsdGVyW2tleV0gPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgfQogICAgICAgfSkubWFwKGtleSA9PiBgJHtrZXl9PSR7dGhpcy5maWx0ZXJba2V5XX1gKS5qb2luKCcmJykKCgogICAgICAgbGV0IHN0YXRlT2JqID0gewogICAgICAgICBmb286ICdjcm0nCiAgICAgICB9CiAgICAgIGhpc3RvcnkucHVzaFN0YXRlKHN0YXRlT2JqLCAicGFnZSAyIiwgYC9DUk0vPyR7cXN9YCkKCgogICAgICAgIHRoaXMudGFibGVzID0gW10KICAgICAgICB0aGlzLnN0YXR1c0xlYWRzID0gMAogICAgICAgIGxldCBmaWx0ZXIgPSB0aGlzLmZpbHRlcgoKICAgICAgICBpZiAodGhpcy4kcmVmcy50YWJsZXNMZWFkcykgewogICAgICAgICAgdGhpcy4kcmVmcy50YWJsZXNMZWFkcy5zY3JvbGxJbnRvVmlldygpCiAgICAgICAgfQoKICAgICAgICB0aGlzLiRhcGkucG9zdCgnbGVhZC9nZXRfbGVhZHMnLHtmaWx0ZXJ9KQogICAgICAgIC50aGVuKHJzID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJzLmRhdGEpCiAgICAgICAgICAgdGhpcy50YWJsZXMgPSBycy5kYXRhLmRhdGEKICAgICAgICAgICB0aGlzLnRvdGFsID0gcnMuZGF0YS50b3RhbAogICAgICAgICAgIHRoaXMubGFzdF9wYWdlID0gcnMuZGF0YS5sYXN0X3BhZ2UKICAgICAgICAgICB0aGlzLmZpbHRlci5wYWdlID0gcnMuZGF0YS5jdXJyZW50X3BhZ2UKICAgICAgICAgICB0aGlzLnN0YXR1c0xlYWRzID0gMQoKICAgICAgICB9KQogICAgICB9LAoKCgoKICAgICAgX2dldF9kb21haW5zKCkgewogICAgICAgIHRoaXMuJGFwaS5wb3N0KCdsZWFkL2dldF9kb21haW5zJykKICAgICAgICAudGhlbihycyA9PiB7CiAgICAgICAgICAgdGhpcy5kb21haW5zID0gcnMuZGF0YS5kYXRhCiAgICAgICAgfSkKICAgICAgfSwKICAgICAgX2dldF9jb21wYW5pZXMoKSB7CiAgICAgICAgdGhpcy4kYXBpLnBvc3QoJ2xlYWQvZ2V0X2NvbXBhbmllcycpCiAgICAgICAgLnRoZW4ocnMgPT4gewogICAgICAgICAgIHRoaXMuY29tcGFuaWVzID0gcnMuZGF0YS5kYXRhCiAgICAgIH0pCiAgICB9LAogICAgICBfZ2V0X29yaWdpbnMoKSB7CiAgICAgICAgdGhpcy4kYXBpLnBvc3QoJ2xlYWQvZ2V0X29yaWdpbnMnKQogICAgICAgIC50aGVuKHJzID0+IHsKICAgICAgICAgICB0aGlzLm9yaWdpbnMgPSBycy5kYXRhLmRhdGEKICAgICAgfSkKICAgIH0sCiAgICBzdGFydExlYWREYXRlKCkgewogICAgICBpZiAodGhpcy5maWx0ZXIuZGF0ZV9wZXJpb2QubGVuZ3RoID09PSAyKSB7CiAgICAgICAgaWYgKHRoaXMuZmlsdGVyLmRhdGVfcGVyaW9kWzBdICYmIHRoaXMuZmlsdGVyLmRhdGVfcGVyaW9kWzFdKSB7CiAgICAgICAgICB0aGlzLmZpbHRlci5wYWdlID0gMQogICAgICAgICAgdGhpcy5zZWFyY2hMZWFkcygpCiAgICAgICAgfQogICAgICB9CiAgICB9LAogIH0KfQo="},{"version":3,"sources":["/home/vevanta/Рабочий стол/building_widtgets/src/pages/client/crm/index.vue"],"names":[],"mappings":"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AC,CAAC,EAAE;UACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5C;;MAEA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChD;MACA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5C;MACA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UAC/B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;SAEnD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;YACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;UAC/B;MACJ;;MAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC;;IAEC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;;QAEZ,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;SAC/C,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;WAC9D,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACZ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;WACnE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACZ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;WAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACZ,EAAE,CAAC,CAAC,CAAC,EAAE;WACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;SACb;OACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC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","file":"/home/vevanta/Рабочий стол/building_widtgets/src/pages/client/crm/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n\n    <div class=\"uk-box-shadow-medium uk-background-default uk-padding-small uk-margin-top brd12\">\n      <div class=\"uk-flex uk-flex-column\">\n        <div class=\"uk-position-absolute uk-width-1-1 uk-height-1-1 preload__cont\" v-show=\"statusLeads === 0\">\n          <div class=\"uk-position-center\">\n            <img src=\"/images/icons/preload.svg\" alt=\"\">\n          </div>\n        </div>\n\n\n        <div class=\"uk-grid uk-child-width-1-4@l uk-child-width-1-3@m\">\n          <div>\n            <div class=\"uk-text-left uk-margin-top uk-margin-small-bottom fnt-bld\">\n              Домен\n            </div>\n              <div>\n                <select\n                  class=\"uk-select\"\n                  v-model=\"filter.domain\"\n                  @change=\"filter.page = 1; searchLeads()\"\n                  >\n                  <option disabled value=\"\">Домен</option>\n                  <template v-for=\"(domain, index) in domains\" :key=\"index\">\n                    <option\n                    :value=\"[domain.id_domain]\"\n                    v-if=\"(domain.id_company==filter.company[0]) || !filter.company.length\"\n                    >\n                      {{domain.site_domain}}\n                    </option>\n                  </template>\n                </select>\n              </div>\n          </div>\n          <div>\n            <div>\n              <div class=\"uk-text-left uk-margin-top uk-margin-small-bottom fnt-bld\">\n                Компании\n              </div>\n                <div>\n                  <select\n                    class=\"uk-select\"\n                    v-model=\"filter.company\"\n                    @change=\"filter.page = 1; filter.domain = []; searchLeads()\"\n                    >\n                    <option disabled value=\"\">Компании</option>\n                    <option\n                      v-for=\"(company, index) in companies\"\n                      :key=\"index\"\n                      :value=\"[company.id_company]\"\n                      >\n                      {{company.name_company}}\n                    </option>\n                  </select>\n                </div>\n            </div>\n          </div>\n          <div>\n            <div>\n              <div class=\"uk-text-left uk-margin-top uk-margin-small-bottom fnt-bld\">\n                Источник\n              </div>\n                <div>\n                  <select\n                    class=\"uk-select\"\n                    v-model=\"filter.origin\"\n                    @change=\"filter.page = 1; searchLeads()\"\n                    >\n                    <option disabled value=\"\">Источник</option>\n                    <option v-for=\"(origin, index) in origins\" :key=\"index\" :value=\"[origin.id_origin]\">\n                      {{origin.name_origin}}\n                    </option>\n                  </select>\n                </div>\n            </div>\n          </div>\n          <div>\n            <div>\n              <div class=\"uk-text-left uk-margin-top uk-margin-small-bottom fnt-bld\">\n                Дата\n              </div>\n                <div>\n                  <input\n                    class=\"uk-select\"\n                    v-model=\"filter.date_period[0]\"\n                    @change=\"startLeadDate\"\n                    type=\"date\" data-uk-datepicker=\"{format:'DD.MM.YYYY'}\">\n                </div>\n                <div>\n                  <input\n                    class=\"uk-select uk-margin-top\"\n                    v-model=\"filter.date_period[1]\"\n                    @change=\"startLeadDate\"\n                    type=\"date\" data-uk-datepicker=\"{format:'DD.MM.YYYY'}\">\n                </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"uk-box-shadow-medium uk-background-default uk-padding-small uk-margin-top brd12\" ref=\"tablesLeads\">\n      <div class=\"uk-overflow-auto\">\n        <div v-dragscroll=\"true\" style=\"width: 100%; height: 100%; overflow: auto;\">\n          <div class=\"uk-text-left fnt-bld\">\n            Общее количество заявок: {{total}}\n          </div>\n      <table class=\"uk-table uk-table-striped uk-table-hover uk-table-small uk-table-middle\">\n          <caption></caption>\n          <thead>\n              <tr>\n                <th><span\n                  class=\"material-icons cr-pointer show-animation show-animation:hover cl-vevanta\"\n                  v-if=\"filter.sort === 'desc'\"\n                  @click=\"filter.sort = 'asc'; searchLeads();\"\n                  >arrow_drop_up\n                  </span>\n                  <span\n                    class=\"material-icons cr-pointer show-animation show-animation:hover cl-vevanta\"\n                    @click=\"filter.sort = 'desc'; searchLeads();\"\n                    v-else\n                    >arrow_drop_down\n                    </span>\n                </th>\n\n                <th class=\"\">Телефон</th>\n                <th class=\"\">E-mail</th>\n                <th class=\"\">Имя</th>\n                <th class=\"\">Форма</th>\n                <th class=\"\">Доменное имя</th>\n                <th class=\"\">URL</th>\n                <th class=\"\">Дата</th>\n                <th class=\"\">_ga</th>\n                <th class=\"\">roistat_visit</th>\n                <th class=\"\">ya_client_id</th>\n                <th class=\"\">name_origin</th>\n                <th>Телефон</th>\n                <th>E-mail</th>\n                <th>Имя</th>\n                <th>Форма</th>\n                <th>Доменное имя</th>\n                <th>URL</th>\n                <th>Дата</th>\n                <th>_ga</th>\n                <th>roistat_visit</th>\n                <th>ya_client_id</th>\n                <th>name_origin</th>\n              </tr>\n          </thead>\n          <tfoot>\n            <tr>\n              <th></th>\n              <th>Телефон</th>\n              <th>E-mail</th>\n              <th>Имя</th>\n              <th>Форма</th>\n              <th>Доменное имя</th>\n              <th>URL</th>\n              <th>Дата</th>\n              <th>_ga</th>\n              <th>roistat_visit</th>\n              <th>ya_client_id</th>\n              <th>Источник</th>\n            </tr>\n          </tfoot>\n          <tbody>\n              <tr class=\"uk-width-medium uk-text-left\" v-for=\"(table, index) in tables\" :key=\"index\">\n              <td></td>\n              <td>{{ table.phone_lead }}</td>\n              <td>{{ table.email_lead }}</td>\n              <td>{{ table.name_lead }}</td>\n              <td>\n                <div style=\"width: 300px; height: 75px; overflow: hidden; text-overflow: ellipsis\">\n                  {{ table.msg_lead }}\n                </div>\n              </td>\n              <td>{{ table.site_domain }}</td>\n              <td>\n                <div style=\"width: 200px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\n                  {{ table.url_lead }}\n                </div>\n              </td>\n              <td>{{ table.first_date }}</td>\n              <td>{{ table.go_client_id }}</td>\n              <td>{{ table.roistat_visit }}</td>\n              <td>{{ table.ya_client_id }}</td>\n              <td class=\"uk-text-truncate\">{{ table.name_origin }}</td>\n              <td><span class=\"m-auto material-icons cl-red2 cr-pointer\">delete</span></td>\n              </tr>\n          </tbody>\n      </table>\n    </div>\n      </div>\n    </div>\n    <div class=\"uk-margin-top\" v-show=\"tables.length\">\n      <ul class=\"uk-grid uk-grid-small uk-flex-center\">\n          <li v-if=\"filter.page>1\">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page--; searchLeads()\">\n              <span class=\"material-icons\">chevron_left</span>\n            </a>\n          </li>\n          <li v-if=\"(filter.page - 3) > 1 \">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page -= 3; searchLeads()\">\n              {{ filter.page - 3 }}\n            </a>\n          </li>\n          <li v-if=\"(filter.page - 2) > 1 \">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page -= 2; searchLeads()\">\n              {{ filter.page - 2 }}\n            </a>\n          </li>\n\n          <li v-if=\"(filter.page - 1) >= 1 \">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page--; searchLeads()\">\n              {{ filter.page - 1 }}\n            </a>\n          </li>\n\n          <li>\n            <a class=\"cl-dark cl-vevanta\" href=\"#\" @click.prevent>\n              {{ filter.page }}\n            </a>\n          </li>\n\n          <li v-if=\"(filter.page + 1) < last_page\">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page++; searchLeads()\">\n              {{ filter.page + 1 }}\n            </a>\n          </li>\n          <li v-if=\"(filter.page + 2) < last_page\">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page += 2; searchLeads()\">\n              {{ filter.page + 2 }}\n            </a>\n          </li>\n          <template  v-if=\"filter.page < last_page\">\n            <li><span> ... </span></li>\n            <li>\n              <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page = last_page; searchLeads()\">\n                {{ last_page }}\n              </a>\n            </li>\n            <li>\n              <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page++; searchLeads()\">\n                <span class=\"material-icons\">chevron_right</span>\n              </a>\n            </li>\n          </template>\n      </ul>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\n  export default {\n    data() {\n      return {\n        statusSort: 0,\n        statusLeads: 0,\n        tables : [],\n        sortDomainActive : '',\n        sortCompanyActive : '',\n        sortOriginActive : '',\n        domains : [],\n        companies : [],\n        origins : [],\n        date_period : [],\n        total: 0,\n        last_: 0,\n        first_page: 1,\n        pages: [],\n        filter: {\n          domain: [],\n          company: [],\n          origin: [],\n          date_period: [],\n          page: 1,\n          sort: 'desc'\n        }\n      }\n    },\n\n    created() {\n      if (this.$route.query.domain) {\n        this.filter.domain = [this.$route.query.domain]\n      }\n      if (this.$route.query.company) {\n          this.filter.company = [this.$route.query.company]\n      }\n\n      if (this.$route.query.sort) {\n          this.filter.sort = this.$route.query.sort\n      }\n\n      if (this.$route.query.origin) {\n        this.filter.origin = [this.$route.query.origin]\n      }\n      if (this.$route.query.page) {\n          this.filter.page = this.$route.query.page\n      }\n      if (this.$route.query.date_period) {\n          let date = this.$route.query.date_period.split(',')\n\n         if (date.length === 2) {\n            this.filter.date_period = date\n          }\n      }\n\n      this.searchLeads()\n      this._get_domains()\n      this._get_companies()\n      this._get_origins()\n  },\n\n    methods: {\n      searchLeads() {\n\n        let qs = Object.keys(this.filter).filter(key => {\n         if (Array.isArray(this.filter[key]) && this.filter[key].length) {\n           return true\n         } else if (typeof this.filter[key] === 'string' && this.filter[key]) {\n           return true\n         } else if (typeof this.filter[key] === 'number') {\n           return true\n         } else {\n           return false\n         }\n       }).map(key => `${key}=${this.filter[key]}`).join('&')\n\n\n       let stateObj = {\n         foo: 'crm'\n       }\n      history.pushState(stateObj, \"page 2\", `/CRM/?${qs}`)\n\n\n        this.tables = []\n        this.statusLeads = 0\n        let filter = this.filter\n\n        if (this.$refs.tablesLeads) {\n          this.$refs.tablesLeads.scrollIntoView()\n        }\n\n        this.$api.post('lead/get_leads',{filter})\n        .then(rs => {\n          console.log(rs.data)\n           this.tables = rs.data.data\n           this.total = rs.data.total\n           this.last_page = rs.data.last_page\n           this.filter.page = rs.data.current_page\n           this.statusLeads = 1\n\n        })\n      },\n\n\n\n\n      _get_domains() {\n        this.$api.post('lead/get_domains')\n        .then(rs => {\n           this.domains = rs.data.data\n        })\n      },\n      _get_companies() {\n        this.$api.post('lead/get_companies')\n        .then(rs => {\n           this.companies = rs.data.data\n      })\n    },\n      _get_origins() {\n        this.$api.post('lead/get_origins')\n        .then(rs => {\n           this.origins = rs.data.data\n      })\n    },\n    startLeadDate() {\n      if (this.filter.date_period.length === 2) {\n        if (this.filter.date_period[0] && this.filter.date_period[1]) {\n          this.filter.page = 1\n          this.searchLeads()\n        }\n      }\n    },\n  }\n}\n</script>\n\n\n<style>\n.preload__cont {\n  width: 100%;\n  height: 100%;\n  background: rgb(255 255 255 / 74%);\n}\n\n.preload__cont img {\n  width: 60px;\n  margin-right: 400px;\n}\n\n</style>\n"]}]}