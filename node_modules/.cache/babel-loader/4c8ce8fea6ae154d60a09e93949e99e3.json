{"remainingRequest":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/babel-loader/lib/index.js!/home/vevanta/Рабочий стол/building_widtgets/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vevanta/Рабочий стол/building_widtgets/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/vevanta/Рабочий стол/building_widtgets/src/pages/auth/auth.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/vevanta/Рабочий стол/building_widtgets/src/pages/auth/auth.vue","mtime":1639736789969},{"path":"/home/vevanta/Рабочий стол/building_widtgets/babel.config.js","mtime":1635146657000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCBVSWtpdCBmcm9tICd1aWtpdCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9naW46ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHN0YXR1c1Bhc3N3b3JkOiB0cnVlLAogICAgICBzdGF0dXNMZWFkczogMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgndWstaW1nJywgJycpOwogICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoImRhdGEtc3JjIiwgJ2h0dHBzOi8vaW1hZ2VzLndhbGxwYXBlcnNjcmFmdC5ydS9pbWFnZS9zaW5nbGUvZ29yeV9vemVyb192ZXJzaGlueV8xMjkyNjNfMTkyMHgxMDgwLmpwZycpOwogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tGb3JtOiBmdW5jdGlvbiBjaGVja0Zvcm0oKSB7CiAgICAgIHZhciBwaG9uZSA9IHRoaXMubG9naW4ucmVwbGFjZSgvW14rXGRdL2csICcnKTsKCiAgICAgIGlmICghcGhvbmUpIHsKICAgICAgICBVSWtpdC5ub3RpZmljYXRpb24oewogICAgICAgICAgbWVzc2FnZTogJ9Cd0LXQutC+0YDRgNC10LrRgtC90YvQuSDQvdC+0LzQtdGAJywKICAgICAgICAgIHN0YXR1czogJ2RhbmdlcicsCiAgICAgICAgICBwb3M6ICd0b3AtcmlnaHQnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIXRoaXMucGFzc3dvcmQgfHwgdGhpcy5wYXNzd29yZC5sZW5ndGggPCA1KSB7CiAgICAgICAgVUlraXQubm90aWZpY2F0aW9uKHsKICAgICAgICAgIG1lc3NhZ2U6ICfQktCy0LXQtNC40YLQtSDQv9Cw0YDQvtC70YwnLAogICAgICAgICAgc3RhdHVzOiAnZGFuZ2VyJywKICAgICAgICAgIHBvczogJ3RvcC1yaWdodCcKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuc3RhdHVzTGVhZHMgPSAxOwoKICAgICAgdGhpcy5fYXV0aChwaG9uZSwgdGhpcy5wYXNzd29yZCk7CiAgICB9LAogICAgX2F1dGg6IGZ1bmN0aW9uIF9hdXRoKGxvZ2luLCBwYXNzd29yZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXBpLnBvc3QoJ2xvZ2lucycsIHsKICAgICAgICBsb2dpbjogbG9naW4sCiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aF90b2tlbicsIHIuZGF0YS50b2tlbik7CiAgICAgICAgX3RoaXMuJGFwaS5kZWZhdWx0cy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAiQmVhcmVyICIuY29uY2F0KHIuZGF0YS50b2tlbik7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnQ1JNJwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocikgewogICAgICAgIF90aGlzLnN0YXR1c0xlYWRzID0gMDsgLy8gZGVmYXVsdAoKICAgICAgICBVSWtpdC5ub3RpZmljYXRpb24oewogICAgICAgICAgbWVzc2FnZTogci5kYXRhLmVycm9yc1swXSwKICAgICAgICAgIHN0YXR1czogJ2RhbmdlcicsCiAgICAgICAgICBwb3M6ICd0b3AtcmlnaHQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/vevanta/Рабочий стол/building_widtgets/src/pages/auth/auth.vue"],"names":[],"mappings":";;AA8DA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEE,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,QAAQ,EAAE,EAFL;AAGL,MAAA,cAAc,EAAE,IAHX;AAIL,MAAA,WAAW,EAAE;AAJR,KAAP;AAMD,GARY;AASb,EAAA,OATa,qBASH;AACT,IAAA,QAAQ,CAAC,IAAT,CAAc,YAAd,CAA2B,QAA3B,EAAqC,EAArC;AACA,IAAA,QAAQ,CAAC,IAAT,CAAc,YAAd,CAA2B,UAA3B,EAAuC,yFAAvC;AACA,GAZY;AAab,EAAA,OAAO,EAAE;AACP,IAAA,SADO,uBACK;AACZ,UAAI,KAAI,GAAI,KAAK,KAAL,CAAW,OAAX,CAAmB,SAAnB,EAA8B,EAA9B,CAAZ;;AAGA,UAAI,CAAC,KAAL,EAAY;AACV,QAAA,KAAK,CAAC,YAAN,CAAmB;AACjB,UAAA,OAAO,EAAE,oBADQ;AAEjB,UAAA,MAAM,EAAE,QAFS;AAGjB,UAAA,GAAG,EAAE;AAHY,SAAnB;AAKA;AACF;;AAEA,UAAI,CAAC,KAAK,QAAN,IAAkB,KAAK,QAAL,CAAc,MAAd,GAAuB,CAA7C,EAAgD;AAC9C,QAAA,KAAK,CAAC,YAAN,CAAmB;AACjB,UAAA,OAAO,EAAE,gBADQ;AAEjB,UAAA,MAAM,EAAE,QAFS;AAGjB,UAAA,GAAG,EAAE;AAHY,SAAnB;AAKE;AACF;;AACA,WAAK,WAAL,GAAmB,CAAnB;;AAEA,WAAK,KAAL,CAAW,KAAX,EAAkB,KAAK,QAAvB;AACH,KAzBQ;AA2BT,IAAA,KA3BS,iBA2BH,KA3BG,EA2BI,QA3BJ,EA2Bc;AAAA;;AACrB,WAAK,IAAL,CAAU,IAAV,CAAe,QAAf,EAAyB;AACvB,QAAA,KAAK,EAAL,KADuB;AAEvB,QAAA,QAAO,EAAP;AAFuB,OAAzB,EAGG,IAHH,CAGQ,UAAA,CAAA,EAAK;AACX,QAAA,YAAY,CAAC,OAAb,CAAqB,YAArB,EAAmC,CAAC,CAAC,IAAF,CAAO,KAA1C;AACA,QAAA,KAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,OAAnB,CAA2B,aAA3B,oBAAqD,CAAC,CAAC,IAAF,CAAO,KAA5D;;AACA,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAC,UAAA,IAAI,EAAE;AAAP,SAAlB;AACD,OAPD,EAOG,KAPH,CAOS,UAAA,CAAA,EAAK;AACZ,QAAA,KAAI,CAAC,WAAL,GAAmB,CAAnB,CADY,CACS;;AACrB,QAAA,KAAK,CAAC,YAAN,CAAmB;AACjB,UAAA,OAAO,EAAE,CAAC,CAAC,IAAF,CAAO,MAAP,CAAc,CAAd,CADQ;AAEjB,UAAA,MAAM,EAAE,QAFS;AAGjB,UAAA,GAAG,EAAE;AAHY,SAAnB;AAKD,OAdD;AAeF;AA3CS;AAbI,CAAf","sourcesContent":["<template >\n  <div>\n    <div class=\"uk-position-center preload__cont z-index-10\" v-show=\"statusLeads === 1\">\n      <div class=\"uk-position-center\">\n        <img src=\"/images/icons/preload.svg\" alt=\"\">\n      </div>\n    </div>\n    <div class=\"opacity uk-container uk-width-1-4 uk-padding uk-panel uk-border-rounded uk-box-shadow-medium uk-position-center\">\n        <div class=\"uk-margin-small-bottom uk-margin-small-top uk-text-normal uk-text-large cl-wh\">\n          Авторизация\n        </div>\n      <div class=\"uk-text-center uk-margin-large-top\" uk-grid>\n\n        <form\n          class=\"uk-width-1-1\"\n          id=\"app\"\n          @submit.prevent=\"checkForm\"\n          >\n          <div class=\"uk-position-relative\">\n            <input\n            class=\"uk-input\"\n            type=\"tel\"\n            name=\"tel\"\n            placeholder=\"Логин\"\n            id=\"login\"\n            v-model=\"login\"\n            >\n            <span\n            class=\"material-icons uk-position-absolute uk-position-center-right uk-margin-small-right cl-wg\"\n            >phone_iphone\n            </span>\n            </div>\n          <div class=\"uk-position-relative uk-margin-small-top\">\n              <input\n              class=\"uk-input\"\n              :type=\"statusPassword ? 'password' : 'text'\"\n              placeholder=\"Пароль\"\n              id=\"login\"\n              v-model=\"password\"\n              >\n              <span\n              @click=\"statusPassword = !statusPassword\"\n              class=\"material-icons cr-pointer uk-position-absolute uk-position-center-right uk-margin-small-right cl-wg\"\n              >\n              <template v-if=\"statusPassword\">\n                visibility\n              </template>\n              <template v-else\n              >\n                visibility_off\n              </template>\n              </span>\n          </div>\n          <button class=\"btn uk-margin-medium-top uk-width-1 cl-wh show-animation show-animation:hover fs16\" type=\"submit\">\n            Войти\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport UIkit from 'uikit'\nimport axios from 'axios'\n\n  export default {\n    data() {\n      return {\n        login: '',\n        password: '',\n        statusPassword: true,\n        statusLeads: 0\n      }\n    },\n    created() {\n     document.body.setAttribute('uk-img', '');\n     document.body.setAttribute(\"data-src\", 'https://images.wallpaperscraft.ru/image/single/gory_ozero_vershiny_129263_1920x1080.jpg');\n    },\n    methods: {\n      checkForm() {\n      let phone = this.login.replace(/[^+\\d]/g, '')\n\n\n      if (!phone) {\n        UIkit.notification({\n          message: 'Некорректный номер',\n          status: 'danger',\n          pos: 'top-right',\n        });\n        return\n      }\n\n      if (!this.password || this.password.length < 5) {\n        UIkit.notification({\n          message: 'Введите пароль',\n          status: 'danger',\n          pos: 'top-right',\n        });\n          return\n        }\n        this.statusLeads = 1\n\n        this._auth(phone, this.password)\n    },\n\n    _auth(login, password) {\n      this.$api.post('logins', {\n        login,\n        password\n      }).then(r => {\n        localStorage.setItem('auth_token', r.data.token);\n        this.$api.defaults.headers.Authorization = `Bearer ${r.data.token}`\n        this.$router.push({name: 'CRM'})\n      }).catch(r => {\n        this.statusLeads = 0 // default\n        UIkit.notification({\n          message: r.data.errors[0],\n          status: 'danger',\n          pos: 'top-right',\n        });\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.btn {\n  background-color: #3cada3;\n  border: none;\n  border-radius: 2px;\n}\n.opacity {\nbackground: rgb(0 0 0 / 44%)\n}\n.cl-wg {\n  color: #57dace;\n}\n.preload__cont {\n  width: 100%;\n  height: 100%;\n  background: rgb(255 255 255 / 74%);\n}\n\n.preload__cont img {\n  width: 60px;\n  margin: auto;\n}\n</style>\n"],"sourceRoot":""}]}