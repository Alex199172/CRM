{"remainingRequest":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/babel-loader/lib/index.js!/home/vevanta/Рабочий стол/building_widtgets/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vevanta/Рабочий стол/building_widtgets/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/vevanta/Рабочий стол/building_widtgets/src/pages/client/crm/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/vevanta/Рабочий стол/building_widtgets/src/pages/client/crm/index.vue","mtime":1638779350720},{"path":"/home/vevanta/Рабочий стол/building_widtgets/babel.config.js","mtime":1635146657000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vevanta/Рабочий стол/building_widtgets/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXR1c0xlYWRzOiAwLAogICAgICB0YWJsZXM6IFtdLAogICAgICBzb3J0RG9tYWluQWN0aXZlOiAnJywKICAgICAgc29ydENvbXBhbnlBY3RpdmU6ICcnLAogICAgICBzb3J0T3JpZ2luQWN0aXZlOiAnJywKICAgICAgZG9tYWluczogW10sCiAgICAgIGNvbXBhbmllczogW10sCiAgICAgIG9yaWdpbnM6IFtdLAogICAgICBkYXRlX3BlcmlvZDogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBsYXN0XzogMCwKICAgICAgZmlyc3RfcGFnZTogMSwKICAgICAgcGFnZXM6IFtdLAogICAgICBmaWx0ZXI6IHsKICAgICAgICBkb21haW46IFtdLAogICAgICAgIGNvbXBhbnk6IFtdLAogICAgICAgIG9yaWdpbjogW10sCiAgICAgICAgZGF0ZV9wZXJpb2Q6IFtdLAogICAgICAgIHBhZ2U6IDEKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuZG9tYWluKSB7CiAgICAgIHRoaXMuZmlsdGVyLmRvbWFpbiA9IFt0aGlzLiRyb3V0ZS5xdWVyeS5kb21haW5dOwogICAgfQoKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5jb21wYW55KSB7CiAgICAgIHRoaXMuZmlsdGVyLmNvbXBhbnkgPSBbdGhpcy4kcm91dGUucXVlcnkuY29tcGFueV07CiAgICB9CgogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5Lm9yaWdpbikgewogICAgICB0aGlzLmZpbHRlci5vcmlnaW4gPSBbdGhpcy4kcm91dGUucXVlcnkub3JpZ2luXTsKICAgIH0KCiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkucGFnZSkgewogICAgICB0aGlzLmZpbHRlci5wYWdlID0gdGhpcy4kcm91dGUucXVlcnkucGFnZTsKICAgIH0KCiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuZGF0ZV9wZXJpb2QpIHsKICAgICAgdmFyIGRhdGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5kYXRlX3BlcmlvZC5zcGxpdCgnLCcpOwoKICAgICAgaWYgKGRhdGUubGVuZ3RoID09PSAyKSB7CiAgICAgICAgdGhpcy5maWx0ZXIuZGF0ZV9wZXJpb2QgPSBkYXRlOwogICAgICB9CiAgICB9CgogICAgdGhpcy5zZWFyY2hMZWFkcygpOwoKICAgIHRoaXMuX2dldF9kb21haW5zKCk7CgogICAgdGhpcy5fZ2V0X2NvbXBhbmllcygpOwoKICAgIHRoaXMuX2dldF9vcmlnaW5zKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWFyY2hMZWFkczogZnVuY3Rpb24gc2VhcmNoTGVhZHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcXMgPSBPYmplY3Qua2V5cyh0aGlzLmZpbHRlcikuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfdGhpcy5maWx0ZXJba2V5XSkgJiYgX3RoaXMuZmlsdGVyW2tleV0ubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhpcy5maWx0ZXJba2V5XSA9PT0gJ3N0cmluZycgJiYgX3RoaXMuZmlsdGVyW2tleV0pIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF90aGlzLmZpbHRlcltrZXldID09PSAnbnVtYmVyJykgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChrZXksICI9IikuY29uY2F0KF90aGlzLmZpbHRlcltrZXldKTsKICAgICAgfSkuam9pbignJicpOwogICAgICB2YXIgc3RhdGVPYmogPSB7CiAgICAgICAgZm9vOiAnY3JtJwogICAgICB9OwogICAgICBoaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZU9iaiwgInBhZ2UgMiIsICIvQ1JNLz8iLmNvbmNhdChxcykpOwogICAgICB0aGlzLnRhYmxlcyA9IFtdOwogICAgICB0aGlzLnN0YXR1c0xlYWRzID0gMDsKICAgICAgdmFyIGZpbHRlciA9IHRoaXMuZmlsdGVyOwoKICAgICAgaWYgKHRoaXMuJHJlZnMudGFibGVzTGVhZHMpIHsKICAgICAgICB0aGlzLiRyZWZzLnRhYmxlc0xlYWRzLnNjcm9sbEludG9WaWV3KCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGFwaS5wb3N0KCdsZWFkL2dldF9sZWFkcycsIHsKICAgICAgICBmaWx0ZXI6IGZpbHRlcgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgIGNvbnNvbGUubG9nKHJzLmRhdGEpOwogICAgICAgIF90aGlzLnRhYmxlcyA9IHJzLmRhdGEuZGF0YTsKICAgICAgICBfdGhpcy50b3RhbCA9IHJzLmRhdGEudG90YWw7CiAgICAgICAgX3RoaXMubGFzdF9wYWdlID0gcnMuZGF0YS5sYXN0X3BhZ2U7CiAgICAgICAgX3RoaXMuZmlsdGVyLnBhZ2UgPSBycy5kYXRhLmN1cnJlbnRfcGFnZTsKICAgICAgICBfdGhpcy5zdGF0dXNMZWFkcyA9IDE7CiAgICAgIH0pOwogICAgfSwKICAgIF9nZXRfZG9tYWluczogZnVuY3Rpb24gX2dldF9kb21haW5zKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGFwaS5wb3N0KCdsZWFkL2dldF9kb21haW5zJykudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICBfdGhpczIuZG9tYWlucyA9IHJzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgX2dldF9jb21wYW5pZXM6IGZ1bmN0aW9uIF9nZXRfY29tcGFuaWVzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGFwaS5wb3N0KCdsZWFkL2dldF9jb21wYW5pZXMnKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgIF90aGlzMy5jb21wYW5pZXMgPSBycy5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIF9nZXRfb3JpZ2luczogZnVuY3Rpb24gX2dldF9vcmlnaW5zKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJGFwaS5wb3N0KCdsZWFkL2dldF9vcmlnaW5zJykudGhlbihmdW5jdGlvbiAocnMpIHsKICAgICAgICBfdGhpczQub3JpZ2lucyA9IHJzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgc3RhcnRMZWFkRGF0ZTogZnVuY3Rpb24gc3RhcnRMZWFkRGF0ZSgpIHsKICAgICAgaWYgKHRoaXMuZmlsdGVyLmRhdGVfcGVyaW9kLmxlbmd0aCA9PT0gMikgewogICAgICAgIGlmICh0aGlzLmZpbHRlci5kYXRlX3BlcmlvZFswXSAmJiB0aGlzLmZpbHRlci5kYXRlX3BlcmlvZFsxXSkgewogICAgICAgICAgdGhpcy5maWx0ZXIucGFnZSA9IDE7CiAgICAgICAgICB0aGlzLnNlYXJjaExlYWRzKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/vevanta/Рабочий стол/building_widtgets/src/pages/client/crm/index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"\">\n  <div class=\"uk-flex uk-flex-column container\">\n    <div class=\"uk-grid uk-grid-small uk-margin-top\">\n      <div class=\"fs22 uk-text-left fnt-bld\">\n        CRM\n      </div>\n    </div>\n\n    <div class=\"uk-position-absolute uk-width-1-1 uk-height-1-1 preload__cont\" v-show=\"statusLeads === 0\">\n      <div class=\"uk-position-center\">\n        <img src=\"/images/icons/preload.svg\" alt=\"\">\n      </div>\n    </div>\n\n    <div class=\"uk-grid uk-child-width-1-4\">\n      <div class=\"\">\n        <div class=\"uk-text-left uk-margin-top uk-margin-small-bottom fnt-bld\">\n          Домен\n        </div>\n          <div class=\"\">\n            <select\n              class=\"uk-select\"\n              v-model=\"filter.domain\"\n              @change=\"filter.page = 1; searchLeads()\"\n              >\n              <option disabled value=\"\">Домен</option>\n              <template v-for=\"(domain, index) in domains\" :key=\"index\">\n                <option\n                :value=\"[domain.id_domain]\"\n                v-if=\"(domain.id_company==filter.company[0]) || !filter.company.length\"\n                >\n                  {{domain.site_domain}}\n                </option>\n              </template>\n            </select>\n          </div>\n          <div class=\"uk-text-left uk-margin-large-top fnt-bld\">\n            Общее количество заявок: {{total}}\n          </div>\n      </div>\n      <div class=\"\">\n        <div class=\"\">\n          <div class=\"uk-text-left uk-margin-top uk-margin-small-bottom fnt-bld\">\n            Компании\n          </div>\n            <div class=\"\">\n              <select\n                class=\"uk-select\"\n                v-model=\"filter.company\"\n                @change=\"filter.page = 1; filter.domain = []; searchLeads()\"\n                >\n                <option disabled value=\"\">Компании</option>\n                <option\n                  v-for=\"(company, index) in companies\"\n                  :key=\"index\"\n                  :value=\"[company.id_company]\"\n                  >\n                  {{company.name_company}}\n                </option>\n              </select>\n            </div>\n        </div>\n      </div>\n      <div class=\"\">\n        <div class=\"\">\n          <div class=\"uk-text-left uk-margin-top uk-margin-small-bottom fnt-bld\">\n            Источник\n          </div>\n            <div class=\"\">\n              <select\n                class=\"uk-select\"\n                v-model=\"filter.origin\"\n                @change=\"filter.page = 1; searchLeads()\"\n                >\n                <option disabled value=\"\">Источник</option>\n                <option v-for=\"(origin, index) in origins\" :key=\"index\" :value=\"[origin.id_origin]\">\n                  {{origin.name_origin}}\n                </option>\n              </select>\n            </div>\n        </div>\n      </div>\n      <div class=\"\">\n        <div class=\"\">\n          <div class=\"uk-text-left uk-margin-top uk-margin-small-bottom fnt-bld\">\n            Дата\n          </div>\n            <div class=\"\">\n              <input\n                class=\"uk-select\"\n                v-model=\"filter.date_period[0]\"\n                @change=\"startLeadDate\"\n                type=\"date\" data-uk-datepicker=\"{format:'DD.MM.YYYY'}\">\n            </div>\n            <div class=\"\">\n              <input\n                class=\"uk-select uk-margin-top\"\n                v-model=\"filter.date_period[1]\"\n                @change=\"startLeadDate\"\n                type=\"date\" data-uk-datepicker=\"{format:'DD.MM.YYYY'}\">\n            </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div v-dragscroll>\n    <div class=\"child\">...</div><!-- can be dragged -->\n    <div class=\"child\" data-no-dragscroll>...</div><!-- can't be dragged -->\n  </div>\n\n  <div v-dragscroll  v-dragscroll.x=\"true\">\n    <div style=\"background: grey; width: 2200px; height: 800px;\">\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n      <div class=\"\">1</div>\n    </div>\n  </div>\n    <div class=\"uk-box-shadow-medium uk-background-default container uk-padding-small uk-margin-top brd12\" ref=\"tablesLeads\">\n      <div class=\"uk-overflow-auto\">\n        <div v-dragscroll>\n      <table class=\"uk-table uk-table-striped uk-table-hover uk-table-small uk-table-middle\">\n          <caption></caption>\n          <thead>\n              <tr class=\"\">\n                <th class=\"\">Телефон</th>\n                <th class=\"\">E-mail</th>\n                <th class=\"\">Имя</th>\n                <th class=\"\">Форма</th>\n                <th class=\"\">Доменное имя</th>\n                <th class=\"\">URL</th>\n                <th class=\"\">Дата</th>\n                <th class=\"\">_ga</th>\n                <th class=\"\">roistat_visit</th>\n                <th class=\"\">ya_client_id</th>\n                <th class=\"\">name_origin</th>\n              </tr>\n          </thead>\n          <tfoot>\n            <tr class=\"\">\n              <th class=\"\">Телефон</th>\n              <th class=\"\">E-mail</th>\n              <th class=\"\">Имя</th>\n              <th class=\"\">Форма</th>\n              <th class=\"\">Доменное имя</th>\n              <th class=\"\">URL</th>\n              <th class=\"\">Дата</th>\n              <th class=\"\">_ga</th>\n              <th class=\"\">roistat_visit</th>\n              <th class=\"\">ya_client_id</th>\n              <th class=\"\">Источник</th>\n            </tr>\n          </tfoot>\n          <tbody>\n              <tr class=\"uk-width-medium uk-text-left\" v-for=\"(table, index) in tables\" :key=\"index\">\n              <td class=\"\">{{ table.phone_lead }}</td>\n              <td class=\"uk-text-truncate\">{{ table.email_lead }}</td>\n              <td class=\"\">{{ table.name_lead }}</td>\n              <td>\n                <div style=\"width: 300px; height: 75px; overflow: hidden; text-overflow: ellipsis\">\n                  {{ table.msg_lead }}\n                </div>\n              </td>\n              <td class=\"\">{{ table.site_domain }}</td>\n              <td class=\"\">\n                <div style=\"width: 200px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\n                  {{ table.url_lead }}\n                </div>\n              </td>\n              <td class=\"\">{{ table.first_date }}</td>\n              <td class=\"\">{{ table.go_client_id }}</td>\n              <td class=\"\">{{ table.roistat_visit }}</td>\n              <td class=\"\">{{ table.ya_client_id }}</td>\n              <td class=\"uk-text-truncate\">{{ table.name_origin }}</td>\n              <td><span class=\"m-auto material-icons cl-red2 cr-pointer\">delete</span></td>\n              </tr>\n          </tbody>\n      </table>\n    </div>\n      </div>\n    </div>\n    <div class=\"container uk-margin-top\" v-show=\"tables.length\">\n      <ul class=\"uk-grid uk-grid-small uk-flex-center\">\n          <li v-if=\"filter.page>1\">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page--; searchLeads()\">\n              <span class=\"material-icons\">chevron_left</span>\n            </a>\n          </li>\n          <li v-if=\"(filter.page - 3) > 1 \">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page -= 3; searchLeads()\">\n              {{ filter.page - 3 }}\n            </a>\n          </li>\n          <li v-if=\"(filter.page - 2) > 1 \">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page -= 2; searchLeads()\">\n              {{ filter.page - 2 }}\n            </a>\n          </li>\n\n          <li v-if=\"(filter.page - 1) >= 1 \">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page--; searchLeads()\">\n              {{ filter.page - 1 }}\n            </a>\n          </li>\n\n          <li>\n            <a class=\"cl-dark cl-vevanta\" href=\"#\" @click.prevent>\n              {{ filter.page }}\n            </a>\n          </li>\n\n          <li v-if=\"(filter.page + 1) < last_page\">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page++; searchLeads()\">\n              {{ filter.page + 1 }}\n            </a>\n          </li>\n          <li v-if=\"(filter.page + 2) < last_page\">\n            <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page += 2; searchLeads()\">\n              {{ filter.page + 2 }}\n            </a>\n          </li>\n          <template  v-if=\"filter.page < last_page\">\n            <li class=\"\"><span> ... </span></li>\n            <li>\n              <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page = last_page; searchLeads()\">\n                {{ last_page }}\n              </a>\n            </li>\n            <li>\n              <a class=\"cl-dark\" href=\"#\" @click.prevent=\"filter.page++; searchLeads()\">\n                <span class=\"material-icons\">chevron_right</span>\n              </a>\n            </li>\n          </template>\n      </ul>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\n  export default {\n\n\n    data() {\n      return {\n        statusLeads: 0,\n        tables : [],\n        sortDomainActive : '',\n        sortCompanyActive : '',\n        sortOriginActive : '',\n        domains : [],\n        companies : [],\n        origins : [],\n        date_period : [],\n        total: 0,\n        last_: 0,\n        first_page: 1,\n        pages: [],\n        filter: {\n          domain: [],\n          company: [],\n          origin: [],\n          date_period: [],\n          page: 1,\n        }\n      }\n    },\n\n    created() {\n\n      if (this.$route.query.domain) {\n        this.filter.domain = [this.$route.query.domain]\n      }\n      if (this.$route.query.company) {\n          this.filter.company = [this.$route.query.company]\n      }\n      if (this.$route.query.origin) {\n        this.filter.origin = [this.$route.query.origin]\n      }\n      if (this.$route.query.page) {\n          this.filter.page = this.$route.query.page\n      }\n      if (this.$route.query.date_period) {\n          let date = this.$route.query.date_period.split(',')\n\n         if (date.length === 2) {\n            this.filter.date_period = date\n          }\n      }\n\n      this.searchLeads()\n      this._get_domains()\n      this._get_companies()\n      this._get_origins()\n  },\n    methods: {\n\n\n      searchLeads() {\n\n        let qs = Object.keys(this.filter).filter(key => {\n         if (Array.isArray(this.filter[key]) && this.filter[key].length) {\n           return true\n         } else if (typeof this.filter[key] === 'string' && this.filter[key]) {\n           return true\n         } else if (typeof this.filter[key] === 'number') {\n           return true\n         } else {\n           return false\n         }\n       }).map(key => `${key}=${this.filter[key]}`).join('&')\n\n\n       let stateObj = {\n         foo: 'crm'\n       }\n      history.pushState(stateObj, \"page 2\", `/CRM/?${qs}`)\n\n\n        this.tables = []\n        this.statusLeads = 0\n        let filter = this.filter\n\n        if (this.$refs.tablesLeads) {\n          this.$refs.tablesLeads.scrollIntoView()\n        }\n\n        this.$api.post('lead/get_leads',{filter})\n        .then(rs => {\n          console.log(rs.data)\n           this.tables = rs.data.data\n           this.total = rs.data.total\n           this.last_page = rs.data.last_page\n           this.filter.page = rs.data.current_page\n           this.statusLeads = 1\n\n        })\n      },\n\n\n\n      _get_domains() {\n        this.$api.post('lead/get_domains')\n        .then(rs => {\n           this.domains = rs.data.data\n        })\n      },\n      _get_companies() {\n        this.$api.post('lead/get_companies')\n        .then(rs => {\n           this.companies = rs.data.data\n      })\n    },\n      _get_origins() {\n        this.$api.post('lead/get_origins')\n        .then(rs => {\n           this.origins = rs.data.data\n      })\n    },\n    startLeadDate() {\n      if (this.filter.date_period.length === 2) {\n        if (this.filter.date_period[0] && this.filter.date_period[1]) {\n          this.filter.page = 1\n          this.searchLeads()\n        }\n      }\n    },\n  }\n}\n</script>\n\n\n<style>\n.preload__cont {\n  width: 100%;\n  height: 100%;\n  background: rgb(255 255 255 / 74%);\n}\n\n.preload__cont img {\n  width: 60px;\n  margin-right: 400px;\n}\n\n</style>\n"],"sourceRoot":""}]}